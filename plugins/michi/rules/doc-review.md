---
globs:
  - "**/*.md"
alwaysApply: false
---

# ドキュメント自動レビュー

このルールは、Markdownドキュメント作成/編集時に自動的に適用され、ドキュメント品質をチェックします。

## レビュー基準

@./doc-review-rules.md

## 実行タイミング

以下のタイミングで自動的にドキュメントレビューを実行してください：

1. Markdownファイルを新規作成した後
2. Markdownファイルの編集を完了した後
3. ユーザーが明示的にレビューを求めた場合

## レビュー実行手順

1. **ドキュメント種別の判定**
   - ファイル名やパスから、ドキュメントの種類を判定
   - README.md → README
   - requirements.md, design.md, tasks.md → 設計書
   - CHANGELOG.md → 変更履歴
   - docs/api/ 配下 → API仕様
   - その他 → 一般ドキュメント

2. **文量チェック**
   - 現在の行数をカウント
   - ドキュメント種別ごとの目安行数と比較
   - 超過/不足を判定

3. **禁止パターンチェック**
   - 「〜することができます」の検出
   - 「〜という」「〜のような」の過剰使用検出
   - 過剰な背景説明の検出
   - 重複記載の検出

4. **必須セクションチェック**
   - ドキュメント種別ごとの必須セクションを確認
   - 不足セクションをリストアップ

5. **結果出力**
   - doc-review-rules.mdで定義された形式で結果を出力
   - ✅/⚠️/❌ で視覚的に分かりやすく表示
   - 具体的な修正提案を含める

## 適用除外

以下のファイルはレビューをスキップ：
- `CHANGELOG.md` （自動生成される場合）
- `node_modules/**/*.md`
- `.git/**/*.md`
- `vendor/**/*.md`
- `.michi/settings/**/*.md` （テンプレートファイル）

## 注意事項

- レビュー結果はユーザーへの提案であり、強制ではありません
- プロジェクト固有のスタイルガイドがある場合、そちらを優先してください
- 自動レビューで検出できない品質問題もあるため、最終的には人間によるレビューが重要です

## 出力例

編集完了後、以下のようなレビュー結果を表示してください：

```markdown
## ドキュメントレビュー結果

### 📊 文量チェック
✅ OK (45行、目標: 30-50行)

### 🔍 禁止パターンチェック
⚠️ 冗長表現: 2箇所
  - L12: 「利用することができます」 → 「利用できます」
  - L28: 「という機能」 → 「機能」

### ✅ 必須セクションチェック
✅ すべて揃っています
  - 概要
  - 使い方
  - ライセンス

### 🎯 総合評価
⚠️ 改善推奨 - 冗長表現の修正をお勧めします
```
