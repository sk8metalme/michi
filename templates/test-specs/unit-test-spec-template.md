# {{FEATURE_NAME}} - 単体テスト仕様書

## テスト情報

- **機能名**: {{FEATURE_NAME}}
- **作成日時**: {{CREATED_AT}}
- **テストタイプ**: 単体テスト（Unit Test）

## テスト目的

<!-- このテストで検証したい内容を記述してください -->
- 個々の関数・メソッドが仕様通りに動作することを確認
- 境界値・異常値の処理を検証
- 単独で実行可能な最小単位のテスト

## テスト対象

### 対象コンポーネント/モジュール

<!-- テスト対象のファイル・クラス・関数を記述してください -->

| ファイルパス | 対象クラス/関数 | 責務 |
|------------|----------------|------|
| `src/utils/validator.ts` | `validateEmail()` | メールアドレス検証 |
| `src/services/user.service.ts` | `UserService.createUser()` | ユーザー作成ロジック |

## テストケース

### 正常系テスト

| テストケースID | テスト項目 | 入力データ | 期待結果 | 優先度 |
|--------------|----------|-----------|---------|-------|
| UT-001 | メールアドレス検証（正常） | `user@example.com` | `true` を返す | 高 |
| UT-002 | ユーザー作成（正常） | `{name: "太郎", email: "taro@example.com"}` | ユーザーオブジェクトを返す | 高 |

### 異常系テスト

| テストケースID | テスト項目 | 入力データ | 期待結果 | 優先度 |
|--------------|----------|-----------|---------|-------|
| UT-101 | メールアドレス検証（不正形式） | `invalid-email` | `false` を返す | 高 |
| UT-102 | ユーザー作成（必須項目欠落） | `{name: "太郎"}` | `ValidationError` をスロー | 高 |

### 境界値テスト

| テストケースID | テスト項目 | 入力データ | 期待結果 | 優先度 |
|--------------|----------|-----------|---------|-------|
| UT-201 | 最小値境界 | `0` | 仕様通りの処理 | 中 |
| UT-202 | 最大値境界 | `Number.MAX_SAFE_INTEGER` | 仕様通りの処理 | 中 |

## テストデータ

### 正常系データ

```json
{
  "validUser": {
    "name": "山田太郎",
    "email": "taro@example.com",
    "age": 30
  }
}
```

### 異常系データ

```json
{
  "invalidUser": {
    "name": "",
    "email": "invalid-email",
    "age": -1
  }
}
```

## モック・スタブ

<!-- 外部依存をモック化する場合は記述してください -->

| 対象 | モック方法 | 理由 |
|------|----------|------|
| データベース | In-memory DB / Test Double | 外部依存を排除 |
| 外部API | Mock Server / Stub | レスポンスを制御 |

## 前提条件

<!-- テスト実行前に必要な準備を記述してください -->

- [ ] テストフレームワークのセットアップ（Jest, Vitest等）
- [ ] 必要なモックライブラリのインストール
- [ ] テストデータの準備

## 実行環境

- **テストフレームワーク**: Jest / Vitest / Mocha
- **言語・ランタイム**: Node.js 20.x / TypeScript 5.x
- **CI環境**: GitHub Actions

## カバレッジ目標

- **行カバレッジ**: 95%以上
- **分岐カバレッジ**: 90%以上
- **関数カバレッジ**: 95%以上

## 変更履歴

| 日付 | 変更者 | 変更内容 |
|------|-------|---------|
| {{CREATED_AT}} | - | 初版作成 |
